# í™˜ê²½ë³€ìˆ˜ ê¹”ë”í•˜ê²Œ ê´€ë¦¬í•˜ê¸°

### ğŸŠ ì‹œì‘í•˜ê¸° ì „ì—...

í˜„ì¬ ë‚´ê°€ ì‚¬ìš©í•˜ê¸°ì— ê°€ì¥ ê¹”ë”í•˜ë‹¤ê³  ìƒê°ë˜ëŠ” ë°©ë²•ì´ë‹¤.

TypeORMê³¼ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë³€ìˆ˜ë¥¼ ë„˜ê²¨ì•¼í•˜ëŠ” ìƒí™©ì„ ê°€ì •í•˜ê³  ì‘ì„±í•˜ì˜€ë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ, `@nestjs/config`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , `dotenv`ë§Œì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

### 1ï¸âƒ£ ì²« ë²ˆì§¸ë¡œ

í™˜ê²½ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê°’ì„ Serviceì˜ instanceì— ë³µì‚¬í•œë‹¤.

`environment/index.ts`

```typescript
import * as dotenv from 'dotenv';
dotenv.config();

//environment
const NODE_ENV: string = process.env.NODE_ENV || 'development';

//mysql
const MYSQL_HOST: string = process.env.MYSQL_HOST || 'localhost';
const MYSQL_PORT: number = Number(process.env.MYSQL_PORT) || 3306;
const MYSQL_USER: string = process.env.MYSQL_USER || 'root';
const MYSQL_PASS: string = process.env.MYSQL_PASS || '1234';
const MYSQL_DB: string = process.env.MYSQL_DB || 'entrance';

const enviornment = {
  development: {
    type: 'mysql',
    host: MYSQL_HOST,
    port: MYSQL_PORT,
    username: MYSQL_USER,
    password: MYSQL_PASS,
    database: MYSQL_DB,
    synchronize: true,
    logging: true,
  },
  production: {
    type: 'mysql',
    host: MYSQL_HOST,
    port: MYSQL_PORT,
    username: MYSQL_USER,
    password: MYSQL_PASS,
    database: MYSQL_DB,
  },
};

const TYPEORM = enviornment[NODE_ENV];

export { NODE_ENV, TYPEORM };

```

ìœ„ì™€ ê°™ì´ íŒŒì¼ì—ì„œ envê°’ì„ ê°€ì ¸ì™€ì„œ ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , exportí•œë‹¤.

### 2ï¸âƒ£ ë‘ ë²ˆì§¸ë¡œ

TypeOrmModuleì— configí•  ë•Œ

```typescript
...
imports: [
  TypeOrmModule.forRoot({
    ...TYPEORM,
    ...
  })
]
...
```

ìœ„ì™€ ê°™ì´ êµ¬ì¡°ë¶„í•´ ë¬¸ë²•ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
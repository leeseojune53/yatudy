# MSA(MicroService Architecture)란?

## MSA란

작고, 독립적으로 배포 가능한 각각의 기능을 수행하는 서비스로 구성된 프레임워크라고 할 수 있다.

완전히 독립적으로 배포가 가능하고, 다른 기술 스택이 사용 가능한 단일 사업 영역에 초점을 둔다.

![img](https://blog.kakaocdn.net/dn/cTAT6G/btqD2bvNaYo/42aEDP4R01hfklHBQBZefk/img.png)

### 특징

MSA는 API를 통해서만 상호작용할 수 있다. 즉, 마이크로 서비스는 서비스의 end-point를 API 형태로 외부에 노출하고, 실질적인 세부 사항은 모두 추상화한다. 내부의 구현 로직, 아키텍처와 프로그래밍 언어, 데이터베이스, 품질 유지 체계와 같은 기술적인 사항들은 서비스 API에 의해 철저하게 가려진다.

따라서 **SOA**의 특징을 다수 공통으로 가진다.

### 장점

1. 각각의 서비스는 모듈화가 되어있으며 이러한 모듈끼리는 RPC 또는 emssage-driven API등을 이요하여 통신한다. 이러한 MSA는 각각 개별의 서비스 개발을 빠르게 하며, 유지보수도 쉽게할 수 있도록 한다.
2. 팀 단위로 적절한 수준에서 기술 스택을 다르게 가져갈 수 있다.
3. 마이크로서비스는 서비스별로 독립적 배포가 가능하다. 따라서 지속적인 배포 CD도 모놀로식에 비해 가볍게 할 수 있다.
4. 마이크로 서비스는 각각 서비스의 부하에 따라 개별적으로 scale-out이 가능하다. 메모리, CPU가 절약된다.

### 단점

1. 모놀리식에 비해 상대적으로 많이 복잡하다. 서비스가 모두 분산되어 있기 때문에 개발자는 내부 시스템의 통신을 어떻게 가져가야 할지 정해야한다. 또한, 통신의 장애와 서버의 부ㅎ 등이 있을 경우 어떻게 transaction을 유지할지 결정하고, 구현해야한다.
2. 모놀리식에서는 단일 트랜잭션을 유지하면 됐지만 MSA에서는 비즈니스에 대한 DB를 가지고있는 서비스도 각기 다르고, 서비스의 연결을 위해서는 통신이 포함되기 때문에 트랜잭션을 유지하는게 어렵다.
3. 통합 테스트가 어렵다.
4. 실제 운영환경에 대해서 배포하는 것이 쉽지 않다. 마이크로서비스의 경우 서비스 1개를 재배포한다고 하면 다른 서비스들과의 연계가 정상적으로 이루어지고 있는지 확인해야한다.